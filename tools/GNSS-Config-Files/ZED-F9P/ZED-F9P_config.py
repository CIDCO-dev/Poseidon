from pyubx2 import UBXReader, UBXMessage, SET
import serial
import time

def send_config(serial_port):
    config_data = [
    (0, 1, 0x209100a6),
    (0, 2, 0x209100a6),
    (0, 4, 0x209100a6),
    (0, 1, 0x209100aa),
    (0, 2, 0x209100aa),
    (0, 4, 0x209100aa),
    (0, 1, 0x209100a7),
    (0, 2, 0x209100a7),
    (0, 4, 0x209100a7),
    (0, 1, 0x209100a8),
    (0, 2, 0x209100a8),
    (0, 4, 0x209100a8),
    (0, 1, 0x209100a9),
    (0, 2, 0x209100a9),
    (0, 4, 0x209100a9),
    (0, 1, 0x209100dd),
    (0, 2, 0x209100dd),
    (0, 4, 0x209100dd),
    (0, 1, 0x209100e1),
    (0, 2, 0x209100e1),
    (0, 4, 0x209100e1),
    (0, 1, 0x209100de),
    (0, 2, 0x209100de),
    (0, 4, 0x209100de),
    (0, 1, 0x209100df),
    (0, 2, 0x209100df),
    (0, 4, 0x209100df),
    (0, 1, 0x209100e0),
    (0, 2, 0x209100e0),
    (0, 4, 0x209100e0),
    (0, 1, 0x209100ba),
    (0, 2, 0x209100ba),
    (0, 4, 0x209100ba),
    (0, 1, 0x209100be),
    (0, 2, 0x209100be),
    (0, 4, 0x209100be),
    (1, 1, 0x209100bb),
    (1, 2, 0x209100bb),
    (1, 4, 0x209100bb),
    (1, 1, 0x209100bc),
    (1, 2, 0x209100bc),
    (1, 4, 0x209100bc),
    (0, 1, 0x209100bd),
    (0, 2, 0x209100bd),
    (0, 4, 0x209100bd),
    (0, 1, 0x209100c9),
    (0, 2, 0x209100c9),
    (0, 4, 0x209100c9),
    (0, 1, 0x209100cd),
    (0, 2, 0x209100cd),
    (0, 4, 0x209100cd),
    (1, 1, 0x209100ca),
    (1, 2, 0x209100ca),
    (1, 4, 0x209100ca),
    (1, 1, 0x209100cb),
    (1, 2, 0x209100cb),
    (1, 4, 0x209100cb),
    (1, 1, 0x209100cb),
    (1, 2, 0x209100cb),
    (1, 4, 0x209100cb),
    (0, 1, 0x209100cc),
    (0, 2, 0x209100cc),
    (0, 4, 0x209100cc),
    (0, 1, 0x209100b5),
    (0, 2, 0x209100b5),
    (0, 4, 0x209100b5),
    (0, 1, 0x209100b9),
    (0, 2, 0x209100b9),
    (0, 4, 0x209100b9),
    (0, 1, 0x209100b6),
    (0, 2, 0x209100b6),
    (0, 4, 0x209100b6),
    (0, 1, 0x209100b7),
    (0, 2, 0x209100b7),
    (0, 4, 0x209100b7),
    (0, 1, 0x209100b8),
    (0, 2, 0x209100b8),
    (0, 4, 0x209100b8),
    (0, 1, 0x209100ce),
    (0, 2, 0x209100ce),
    (0, 4, 0x209100ce),
    (0, 1, 0x209100d2),
    (0, 2, 0x209100d2),
    (0, 4, 0x209100d2),
    (0, 1, 0x209100cf),
    (0, 2, 0x209100cf),
    (0, 4, 0x209100cf),
    (0, 1, 0x209100d0),
    (0, 2, 0x209100d0),
    (0, 4, 0x209100d0),
    (0, 1, 0x209100d1),
    (0, 2, 0x209100d1),
    (0, 4, 0x209100d1),
    (0, 1, 0x209100bf),
    (0, 2, 0x209100bf),
    (0, 4, 0x209100bf),
    (0, 1, 0x209100c3),
    (0, 2, 0x209100c3),
    (0, 4, 0x209100c3),
    (1, 1, 0x209100c0),
    (1, 2, 0x209100c0),
    (1, 4, 0x209100c0),
    (1, 1, 0x209100c1),
    (1, 2, 0x209100c1),
    (1, 4, 0x209100c1),
    (0, 1, 0x209100c2),
    (0, 2, 0x209100c2),
    (0, 4, 0x209100c2),
    (0, 1, 0x209100d7),
    (0, 2, 0x209100d7),
    (0, 4, 0x209100d7),
    (0, 1, 0x209100d4),
    (0, 2, 0x209100d4),
    (0, 4, 0x209100d4),
    (0, 1, 0x209100d3),
    (0, 2, 0x209100d3),
    (0, 4, 0x209100d3),
    (0, 1, 0x209100d5),
    (0, 2, 0x209100d5),
    (0, 4, 0x209100d5),
    (0, 1, 0x209100d6),
    (0, 2, 0x209100d6),
    (0, 4, 0x209100d6),
    (0, 1, 0x209100c4),
    (0, 2, 0x209100c4),
    (0, 4, 0x209100c4),
    (0, 1, 0x209100c8),
    (0, 2, 0x209100c8),
    (0, 4, 0x209100c8),
    (1, 1, 0x209100c5),
    (1, 2, 0x209100c5),
    (1, 4, 0x209100c5),
    (1, 1, 0x209100c6),
    (1, 2, 0x209100c6),
    (1, 4, 0x209100c6),
    (0, 1, 0x209100c7),
    (0, 2, 0x209100c7),
    (0, 4, 0x209100c7),
    (0, 1, 0x20910400),
    (0, 2, 0x20910400),
    (0, 4, 0x20910400),
    (0, 1, 0x20910404),
    (0, 2, 0x20910404),
    (0, 4, 0x20910404),
    (0, 1, 0x20910401),
    (0, 2, 0x20910401),
    (0, 4, 0x20910401),
    (0, 1, 0x20910402),
    (0, 2, 0x20910402),
    (0, 4, 0x20910402),
    (0, 1, 0x20910403),
    (0, 2, 0x20910403),
    (0, 4, 0x20910403),
    (0, 1, 0x209100ab),
    (0, 2, 0x209100ab),
    (0, 4, 0x209100ab),
    (0, 1, 0x209100af),
    (0, 2, 0x209100af),
    (0, 4, 0x209100af),
    (1, 1, 0x209100ac),
    (1, 2, 0x209100ac),
    (1, 4, 0x209100ac),
    (1, 1, 0x209100ad),
    (1, 2, 0x209100ad),
    (1, 4, 0x209100ad),
    (0, 1, 0x209100ae),
    (0, 2, 0x209100ae),
    (0, 4, 0x209100ae),
    (0, 1, 0x209100e7),
    (0, 2, 0x209100e7),
    (0, 4, 0x209100e7),
    (0, 1, 0x209100eb),
    (0, 2, 0x209100eb),
    (0, 4, 0x209100eb),
    (0, 1, 0x209100e8),
    (0, 2, 0x209100e8),
    (0, 4, 0x209100e8),
    (0, 1, 0x209100e9),
    (0, 2, 0x209100e9),
    (0, 4, 0x209100e9),
    (0, 1, 0x209100ea),
    (0, 2, 0x209100ea),
    (0, 4, 0x209100ea),
    (0, 1, 0x209100b0),
    (0, 2, 0x209100b0),
    (0, 4, 0x209100b0),
    (0, 1, 0x209100b4),
    (0, 2, 0x209100b4),
    (0, 4, 0x209100b4),
    (1, 1, 0x209100b1),
    (1, 2, 0x209100b1),
    (1, 4, 0x209100b1),
    (1, 1, 0x209100b2),
    (1, 2, 0x209100b2),
    (1, 4, 0x209100b2),
    (0, 1, 0x209100b3),
    (0, 2, 0x209100b3),
    (0, 4, 0x209100b3),
    (0, 1, 0x209100d8),
    (0, 2, 0x209100d8),
    (0, 4, 0x209100d8),
    (0, 1, 0x209100dc),
    (0, 2, 0x209100dc),
    (0, 4, 0x209100dc),
    (1, 1, 0x209100d9),
    (1, 2, 0x209100d9),
    (1, 4, 0x209100d9),
    (1, 1, 0x209100da),
    (1, 2, 0x209100da),
    (1, 4, 0x209100da),
    (0, 1, 0x209100db),
    (0, 2, 0x209100db),
    (0, 4, 0x209100db),
    (0, 1, 0x209100ec),
    (0, 2, 0x209100ec),
    (0, 4, 0x209100ec),
    (0, 1, 0x209100f0),
    (0, 2, 0x209100f0),
    (0, 4, 0x209100f0),
    (0, 1, 0x209100ed),
    (0, 2, 0x209100ed),
    (0, 4, 0x209100ed),
    (0, 1, 0x209100ee),
    (0, 2, 0x209100ee),
    (0, 4, 0x209100ee),
    (0, 1, 0x209100ef),
    (0, 2, 0x209100ef),
    (0, 4, 0x209100ef),
    (0, 1, 0x209100f1),
    (0, 2, 0x209100f1),
    (0, 4, 0x209100f1),
    (0, 1, 0x209100f5),
    (0, 2, 0x209100f5),
    (0, 4, 0x209100f5),
    (0, 1, 0x209100f2),
    (0, 2, 0x209100f2),
    (0, 4, 0x209100f2),
    (0, 1, 0x209100f3),
    (0, 2, 0x209100f3),
    (0, 4, 0x209100f3),
    (0, 1, 0x209100f4),
    (0, 2, 0x209100f4),
    (0, 4, 0x209100f4),
    (0, 1, 0x209100f6),
    (0, 2, 0x209100f6),
    (0, 4, 0x209100f6),
    (0, 1, 0x209100fa),
    (0, 2, 0x209100fa),
    (0, 4, 0x209100fa),
    (0, 1, 0x209100f7),
    (0, 2, 0x209100f7),
    (0, 4, 0x209100f7),
    (0, 1, 0x209100f8),
    (0, 2, 0x209100f8),
    (0, 4, 0x209100f8),
    (0, 1, 0x209100f9),
    (0, 2, 0x209100f9),
    (0, 4, 0x209100f9),
    (0, 1, 0x209102bd),
    (0, 2, 0x209102bd),
    (0, 4, 0x209102bd),
    (0, 1, 0x209102c1),
    (0, 2, 0x209102c1),
    (0, 4, 0x209102c1),
    (0, 1, 0x209102be),
    (0, 2, 0x209102be),
    (0, 4, 0x209102be),
    (0, 1, 0x209102bf),
    (0, 2, 0x209102bf),
    (0, 4, 0x209102bf),
    (0, 1, 0x209102c0),
    (0, 2, 0x209102c0),
    (0, 4, 0x209102c0),
    (0, 1, 0x2091035e),
    (0, 2, 0x2091035e),
    (0, 4, 0x2091035e),
    (0, 1, 0x20910362),
    (0, 2, 0x20910362),
    (0, 4, 0x20910362),
    (0, 1, 0x2091035f),
    (0, 2, 0x2091035f),
    (0, 4, 0x2091035f),
    (0, 1, 0x20910360),
    (0, 2, 0x20910360),
    (0, 4, 0x20910360),
    (0, 1, 0x20910361),
    (0, 2, 0x20910361),
    (0, 4, 0x20910361),
    (0, 1, 0x209102cc),
    (0, 2, 0x209102cc),
    (0, 4, 0x209102cc),
    (0, 1, 0x209102d0),
    (0, 2, 0x209102d0),
    (0, 4, 0x209102d0),
    (0, 1, 0x209102cd),
    (0, 2, 0x209102cd),
    (0, 4, 0x209102cd),
    (0, 1, 0x209102ce),
    (0, 2, 0x209102ce),
    (0, 4, 0x209102ce),
    (0, 1, 0x209102cf),
    (0, 2, 0x209102cf),
    (0, 4, 0x209102cf),
    (0, 1, 0x20910363),
    (0, 2, 0x20910363),
    (0, 4, 0x20910363),
    (0, 1, 0x20910367),
    (0, 2, 0x20910367),
    (0, 4, 0x20910367),
    (0, 1, 0x20910364),
    (0, 2, 0x20910364),
    (0, 4, 0x20910364),
    (0, 1, 0x20910365),
    (0, 2, 0x20910365),
    (0, 4, 0x20910365),
    (0, 1, 0x20910366),
    (0, 2, 0x20910366),
    (0, 4, 0x20910366),
    (0, 1, 0x209102d1),
    (0, 2, 0x209102d1),
    (0, 4, 0x209102d1),
    (0, 1, 0x209102d5),
    (0, 2, 0x209102d5),
    (0, 4, 0x209102d5),
    (0, 1, 0x209102d2),
    (0, 2, 0x209102d2),
    (0, 4, 0x209102d2),
    (0, 1, 0x209102d3),
    (0, 2, 0x209102d3),
    (0, 4, 0x209102d3),
    (0, 1, 0x209102d4),
    (0, 2, 0x209102d4),
    (0, 4, 0x209102d4),
    (0, 1, 0x20910368),
    (0, 2, 0x20910368),
    (0, 4, 0x20910368),
    (0, 1, 0x2091036c),
    (0, 2, 0x2091036c),
    (0, 4, 0x2091036c),
    (0, 1, 0x20910369),
    (0, 2, 0x20910369),
    (0, 4, 0x20910369),
    (0, 1, 0x2091036a),
    (0, 2, 0x2091036a),
    (0, 4, 0x2091036a),
    (0, 1, 0x2091036b),
    (0, 2, 0x2091036b),
    (0, 4, 0x2091036b),
    (0, 1, 0x20910318),
    (0, 2, 0x20910318),
    (0, 4, 0x20910318),
    (0, 1, 0x2091031c),
    (0, 2, 0x2091031c),
    (0, 4, 0x2091031c),
    (0, 1, 0x20910319),
    (0, 2, 0x20910319),
    (0, 4, 0x20910319),
    (0, 1, 0x2091031a),
    (0, 2, 0x2091031a),
    (0, 4, 0x2091031a),
    (0, 1, 0x2091031b),
    (0, 2, 0x2091031b),
    (0, 4, 0x2091031b),
    (0, 1, 0x2091036d),
    (0, 2, 0x2091036d),
    (0, 4, 0x2091036d),
    (0, 1, 0x20910371),
    (0, 2, 0x20910371),
    (0, 4, 0x20910371),
    (0, 1, 0x2091036e),
    (0, 2, 0x2091036e),
    (0, 4, 0x2091036e),
    (0, 1, 0x2091036f),
    (0, 2, 0x2091036f),
    (0, 4, 0x2091036f),
    (0, 1, 0x20910370),
    (0, 2, 0x20910370),
    (0, 4, 0x20910370),
    (0, 1, 0x209102d6),
    (0, 2, 0x209102d6),
    (0, 4, 0x209102d6),
    (0, 1, 0x209102da),
    (0, 2, 0x209102da),
    (0, 4, 0x209102da),
    (0, 1, 0x209102d7),
    (0, 2, 0x209102d7),
    (0, 4, 0x209102d7),
    (0, 1, 0x209102d8),
    (0, 2, 0x209102d8),
    (0, 4, 0x209102d8),
    (0, 1, 0x209102d9),
    (0, 2, 0x209102d9),
    (0, 4, 0x209102d9),
    (0, 1, 0x20910303),
    (0, 2, 0x20910303),
    (0, 4, 0x20910303),
    (0, 1, 0x20910304),
    (0, 2, 0x20910304),
    (0, 4, 0x20910304),
    (0, 1, 0x20910305),
    (0, 2, 0x20910305),
    (0, 4, 0x20910305),
    (0, 1, 0x20910306),
    (0, 2, 0x20910306),
    (0, 4, 0x20910306),
    (0, 1, 0x209102fe),
    (0, 2, 0x209102fe),
    (0, 4, 0x209102fe),
    (0, 1, 0x20910302),
    (0, 2, 0x20910302),
    (0, 4, 0x20910302),
    (0, 1, 0x209102ff),
    (0, 2, 0x209102ff),
    (0, 4, 0x209102ff),
    (0, 1, 0x20910300),
    (0, 2, 0x20910300),
    (0, 4, 0x20910300),
    (0, 1, 0x20910301),
    (0, 2, 0x20910301),
    (0, 4, 0x20910301),
    (0, 1, 0x20910381),
    (0, 2, 0x20910381),
    (0, 4, 0x20910381),
    (0, 1, 0x20910385),
    (0, 2, 0x20910385),
    (0, 4, 0x20910385),
    (0, 1, 0x20910382),
    (0, 2, 0x20910382),
    (0, 4, 0x20910382),
    (0, 1, 0x20910383),
    (0, 2, 0x20910383),
    (0, 4, 0x20910383),
    (0, 1, 0x20910384),
    (0, 2, 0x20910384),
    (0, 4, 0x20910384),
    (0, 1, 0x20910259),
    (0, 2, 0x20910259),
    (0, 4, 0x20910259),
    (0, 1, 0x2091025d),
    (0, 2, 0x2091025d),
    (0, 4, 0x2091025d),
    (0, 1, 0x2091025a),
    (0, 2, 0x2091025a),
    (0, 4, 0x2091025a),
    (0, 1, 0x2091025b),
    (0, 2, 0x2091025b),
    (0, 4, 0x2091025b),
    (0, 1, 0x2091025c),
    (0, 2, 0x2091025c),
    (0, 4, 0x2091025c),
    (0, 1, 0x2091034f),
    (0, 2, 0x2091034f),
    (0, 4, 0x2091034f),
    (0, 1, 0x20910353),
    (0, 2, 0x20910353),
    (0, 4, 0x20910353),
    (0, 1, 0x20910350),
    (0, 2, 0x20910350),
    (0, 4, 0x20910350),
    (0, 1, 0x20910351),
    (0, 2, 0x20910351),
    (0, 4, 0x20910351),
    (0, 1, 0x20910352),
    (0, 2, 0x20910352),
    (0, 4, 0x20910352),
    (0, 1, 0x209101b9),
    (0, 2, 0x209101b9),
    (0, 4, 0x209101b9),
    (0, 1, 0x209101bd),
    (0, 2, 0x209101bd),
    (0, 4, 0x209101bd),
    (0, 1, 0x209101ba),
    (0, 2, 0x209101ba),
    (0, 4, 0x209101ba),
    (0, 1, 0x209101bb),
    (0, 2, 0x209101bb),
    (0, 4, 0x209101bb),
    (0, 1, 0x209101bc),
    (0, 2, 0x209101bc),
    (0, 4, 0x209101bc),
    (0, 1, 0x20910354),
    (0, 2, 0x20910354),
    (0, 4, 0x20910354),
    (0, 1, 0x20910358),
    (0, 2, 0x20910358),
    (0, 4, 0x20910358),
    (0, 1, 0x20910355),
    (0, 2, 0x20910355),
    (0, 4, 0x20910355),
    (0, 1, 0x20910356),
    (0, 2, 0x20910356),
    (0, 4, 0x20910356),
    (0, 1, 0x20910357),
    (0, 2, 0x20910357),
    (0, 4, 0x20910357),
    (0, 1, 0x209101b4),
    (0, 2, 0x209101b4),
    (0, 4, 0x209101b4),
    (0, 1, 0x209101b8),
    (0, 2, 0x209101b8),
    (0, 4, 0x209101b8),
    (0, 1, 0x209101b5),
    (0, 2, 0x209101b5),
    (0, 4, 0x209101b5),
    (0, 1, 0x209101b6),
    (0, 2, 0x209101b6),
    (0, 4, 0x209101b6),
    (0, 1, 0x209101b7),
    (0, 2, 0x209101b7),
    (0, 4, 0x209101b7),
    (0, 1, 0x209101a5),
    (0, 2, 0x209101a5),
    (0, 4, 0x209101a5),
    (0, 1, 0x209101a9),
    (0, 2, 0x209101a9),
    (0, 4, 0x209101a9),
    (0, 1, 0x209101a6),
    (0, 2, 0x209101a6),
    (0, 4, 0x209101a6),
    (0, 1, 0x209101a7),
    (0, 2, 0x209101a7),
    (0, 4, 0x209101a7),
    (0, 1, 0x209101a8),
    (0, 2, 0x209101a8),
    (0, 4, 0x209101a8),
    (0, 1, 0x20910196),
    (0, 2, 0x20910196),
    (0, 4, 0x20910196),
    (0, 1, 0x2091019a),
    (0, 2, 0x2091019a),
    (0, 4, 0x2091019a),
    (0, 1, 0x20910197),
    (0, 2, 0x20910197),
    (0, 4, 0x20910197),
    (0, 1, 0x20910198),
    (0, 2, 0x20910198),
    (0, 4, 0x20910198),
    (0, 1, 0x20910199),
    (0, 2, 0x20910199),
    (0, 4, 0x20910199),
    (0, 1, 0x20910359),
    (0, 2, 0x20910359),
    (0, 4, 0x20910359),
    (0, 1, 0x2091035d),
    (0, 2, 0x2091035d),
    (0, 4, 0x2091035d),
    (0, 1, 0x2091035a),
    (0, 2, 0x2091035a),
    (0, 4, 0x2091035a),
    (0, 1, 0x2091035b),
    (0, 2, 0x2091035b),
    (0, 4, 0x2091035b),
    (0, 1, 0x2091035c),
    (0, 2, 0x2091035c),
    (0, 4, 0x2091035c),
    (0, 1, 0x209101a0),
    (0, 2, 0x209101a0),
    (0, 4, 0x209101a0),
    (0, 1, 0x209101a4),
    (0, 2, 0x209101a4),
    (0, 4, 0x209101a4),
    (0, 1, 0x209101a1),
    (0, 2, 0x209101a1),
    (0, 4, 0x209101a1),
    (0, 1, 0x209101a2),
    (0, 2, 0x209101a2),
    (0, 4, 0x209101a2),
    (0, 1, 0x209101a3),
    (0, 2, 0x209101a3),
    (0, 4, 0x209101a3),
    (0, 1, 0x20910187),
    (0, 2, 0x20910187),
    (0, 4, 0x20910187),
    (0, 1, 0x2091018b),
    (0, 2, 0x2091018b),
    (0, 4, 0x2091018b),
    (0, 1, 0x20910188),
    (0, 2, 0x20910188),
    (0, 4, 0x20910188),
    (0, 1, 0x20910189),
    (0, 2, 0x20910189),
    (0, 4, 0x20910189),
    (0, 1, 0x2091018a),
    (0, 2, 0x2091018a),
    (0, 4, 0x2091018a),
    (0, 1, 0x2091038b),
    (0, 2, 0x2091038b),
    (0, 4, 0x2091038b),
    (0, 1, 0x2091038f),
    (0, 2, 0x2091038f),
    (0, 4, 0x2091038f),
    (0, 1, 0x2091038c),
    (0, 2, 0x2091038c),
    (0, 4, 0x2091038c),
    (0, 1, 0x2091038d),
    (0, 2, 0x2091038d),
    (0, 4, 0x2091038d),
    (0, 1, 0x2091038e),
    (0, 2, 0x2091038e),
    (0, 4, 0x2091038e),
    (0, 1, 0x2091019b),
    (0, 2, 0x2091019b),
    (0, 4, 0x2091019b),
    (0, 1, 0x2091019f),
    (0, 2, 0x2091019f),
    (0, 4, 0x2091019f),
    (0, 1, 0x2091019c),
    (0, 2, 0x2091019c),
    (0, 4, 0x2091019c),
    (0, 1, 0x2091019d),
    (0, 2, 0x2091019d),
    (0, 4, 0x2091019d),
    (0, 1, 0x2091019e),
    (0, 2, 0x2091019e),
    (0, 4, 0x2091019e),
    (0, 1, 0x20910065),
    (0, 2, 0x20910065),
    (0, 4, 0x20910065),
    (0, 1, 0x20910069),
    (0, 2, 0x20910069),
    (0, 4, 0x20910069),
    (0, 1, 0x20910066),
    (0, 2, 0x20910066),
    (0, 4, 0x20910066),
    (0, 1, 0x20910067),
    (0, 2, 0x20910067),
    (0, 4, 0x20910067),
    (0, 1, 0x20910068),
    (0, 2, 0x20910068),
    (0, 4, 0x20910068),
    (0, 1, 0x20910083),
    (0, 2, 0x20910083),
    (0, 4, 0x20910083),
    (0, 1, 0x20910087),
    (0, 2, 0x20910087),
    (0, 4, 0x20910087),
    (0, 1, 0x20910084),
    (0, 2, 0x20910084),
    (0, 4, 0x20910084),
    (0, 1, 0x20910085),
    (0, 2, 0x20910085),
    (0, 4, 0x20910085),
    (0, 1, 0x20910086),
    (0, 2, 0x20910086),
    (0, 4, 0x20910086),
    (0, 1, 0x20910038),
    (0, 2, 0x20910038),
    (0, 4, 0x20910038),
    (0, 1, 0x2091003c),
    (0, 2, 0x2091003c),
    (0, 4, 0x2091003c),
    (0, 1, 0x20910039),
    (0, 2, 0x20910039),
    (0, 4, 0x20910039),
    (0, 1, 0x2091003a),
    (0, 2, 0x2091003a),
    (0, 4, 0x2091003a),
    (0, 1, 0x2091003b),
    (0, 2, 0x2091003b),
    (0, 4, 0x2091003b),
    (0, 1, 0x2091015f),
    (0, 2, 0x2091015f),
    (0, 4, 0x2091015f),
    (0, 1, 0x20910163),
    (0, 2, 0x20910163),
    (0, 4, 0x20910163),
    (0, 1, 0x20910160),
    (0, 2, 0x20910160),
    (0, 4, 0x20910160),
    (0, 1, 0x20910161),
    (0, 2, 0x20910161),
    (0, 4, 0x20910161),
    (0, 1, 0x20910162),
    (0, 2, 0x20910162),
    (0, 4, 0x20910162),
    (0, 1, 0x209100a1),
    (0, 2, 0x209100a1),
    (0, 4, 0x209100a1),
    (0, 1, 0x209100a5),
    (0, 2, 0x209100a5),
    (0, 4, 0x209100a5),
    (0, 1, 0x209100a2),
    (0, 2, 0x209100a2),
    (0, 4, 0x209100a2),
    (0, 1, 0x209100a3),
    (0, 2, 0x209100a3),
    (0, 4, 0x209100a3),
    (0, 1, 0x209100a4),
    (0, 2, 0x209100a4),
    (0, 4, 0x209100a4),
    (0, 1, 0x2091002f),
    (0, 2, 0x2091002f),
    (0, 4, 0x2091002f),
    (0, 1, 0x20910030),
    (0, 2, 0x20910030),
    (0, 4, 0x20910030),
    (0, 1, 0x20910031),
    (0, 2, 0x20910031),
    (0, 4, 0x20910031),
    (0, 1, 0x20910033),
    (0, 2, 0x20910033),
    (0, 4, 0x20910033),
    (0, 1, 0x20910037),
    (0, 2, 0x20910037),
    (0, 4, 0x20910037),
    (0, 1, 0x20910034),
    (0, 2, 0x20910034),
    (0, 4, 0x20910034),
    (0, 1, 0x20910035),
    (0, 2, 0x20910035),
    (0, 4, 0x20910035),
    (0, 1, 0x20910036),
    (0, 2, 0x20910036),
    (0, 4, 0x20910036),
    (0, 1, 0x2091007e),
    (0, 2, 0x2091007e),
    (0, 4, 0x2091007e),
    (0, 1, 0x20910082),
    (0, 2, 0x20910082),
    (0, 4, 0x20910082),
    (0, 1, 0x2091007f),
    (0, 2, 0x2091007f),
    (0, 4, 0x2091007f),
    (0, 1, 0x20910080),
    (0, 2, 0x20910080),
    (0, 4, 0x20910080),
    (0, 1, 0x20910081),
    (0, 2, 0x20910081),
    (0, 4, 0x20910081),
    (0, 1, 0x20910010),
    (0, 2, 0x20910010),
    (0, 4, 0x20910010),
    (0, 1, 0x20910014),
    (0, 2, 0x20910014),
    (0, 4, 0x20910014),
    (0, 1, 0x20910011),
    (0, 2, 0x20910011),
    (0, 4, 0x20910011),
    (0, 1, 0x20910012),
    (0, 2, 0x20910012),
    (0, 4, 0x20910012),
    (0, 1, 0x20910013),
    (0, 2, 0x20910013),
    (0, 4, 0x20910013),
    (0, 1, 0x20910024),
    (0, 2, 0x20910024),
    (0, 4, 0x20910024),
    (0, 1, 0x20910028),
    (0, 2, 0x20910028),
    (0, 4, 0x20910028),
    (0, 1, 0x20910025),
    (0, 2, 0x20910025),
    (0, 4, 0x20910025),
    (0, 1, 0x20910026),
    (0, 2, 0x20910026),
    (0, 4, 0x20910026),
    (0, 1, 0x20910027),
    (0, 2, 0x20910027),
    (0, 4, 0x20910027),
    (0, 1, 0x20910029),
    (0, 2, 0x20910029),
    (0, 4, 0x20910029),
    (0, 1, 0x2091002d),
    (0, 2, 0x2091002d),
    (0, 4, 0x2091002d),
    (0, 1, 0x2091002a),
    (0, 2, 0x2091002a),
    (0, 4, 0x2091002a),
    (0, 1, 0x2091002b),
    (0, 2, 0x2091002b),
    (0, 4, 0x2091002b),
    (1, 1, 0x2091002c),
    (1, 2, 0x2091002c),
    (1, 4, 0x2091002c),
    (0, 1, 0x20910006),
    (0, 2, 0x20910006),
    (0, 4, 0x20910006),
    (0, 1, 0x2091000a),
    (0, 2, 0x2091000a),
    (0, 4, 0x2091000a),
    (0, 1, 0x20910007),
    (0, 2, 0x20910007),
    (0, 4, 0x20910007),
    (0, 1, 0x20910008),
    (0, 2, 0x20910008),
    (0, 4, 0x20910008),
    (0, 1, 0x20910009),
    (0, 2, 0x20910009),
    (0, 4, 0x20910009),
    (0, 1, 0x2091008d),
    (0, 2, 0x2091008d),
    (0, 4, 0x2091008d),
    (0, 1, 0x20910091),
    (0, 2, 0x20910091),
    (0, 4, 0x20910091),
    (0, 1, 0x2091008e),
    (0, 2, 0x2091008e),
    (0, 4, 0x2091008e),
    (0, 1, 0x2091008f),
    (0, 2, 0x2091008f),
    (0, 4, 0x2091008f),
    (0, 1, 0x20910090),
    (0, 2, 0x20910090),
    (0, 4, 0x20910090),
    (0, 1, 0x20910015),
    (0, 2, 0x20910015),
    (0, 4, 0x20910015),
    (0, 1, 0x20910019),
    (0, 2, 0x20910019),
    (0, 4, 0x20910019),
    (0, 1, 0x20910016),
    (0, 2, 0x20910016),
    (0, 4, 0x20910016),
    (0, 1, 0x20910017),
    (0, 2, 0x20910017),
    (0, 4, 0x20910017),
    (0, 1, 0x20910018),
    (0, 2, 0x20910018),
    (0, 4, 0x20910018),
    (0, 1, 0x2091006a),
    (0, 2, 0x2091006a),
    (0, 4, 0x2091006a),
    (0, 1, 0x2091006e),
    (0, 2, 0x2091006e),
    (0, 4, 0x2091006e),
    (0, 1, 0x2091006b),
    (0, 2, 0x2091006b),
    (0, 4, 0x2091006b),
    (0, 1, 0x2091006c),
    (0, 2, 0x2091006c),
    (0, 4, 0x2091006c),
    (0, 1, 0x2091006d),
    (0, 2, 0x2091006d),
    (0, 4, 0x2091006d),
    (0, 1, 0x20910345),
    (0, 2, 0x20910345),
    (0, 4, 0x20910345),
    (0, 1, 0x20910349),
    (0, 2, 0x20910349),
    (0, 4, 0x20910349),
    (0, 1, 0x20910346),
    (0, 2, 0x20910346),
    (0, 4, 0x20910346),
    (0, 1, 0x20910347),
    (0, 2, 0x20910347),
    (0, 4, 0x20910347),
    (0, 1, 0x20910348),
    (0, 2, 0x20910348),
    (0, 4, 0x20910348),
    (0, 1, 0x20910336),
    (0, 2, 0x20910336),
    (0, 4, 0x20910336),
    (0, 1, 0x2091033a),
    (0, 2, 0x2091033a),
    (0, 4, 0x2091033a),
    (0, 1, 0x20910337),
    (0, 2, 0x20910337),
    (0, 4, 0x20910337),
    (0, 1, 0x20910338),
    (0, 2, 0x20910338),
    (0, 4, 0x20910338),
    (0, 1, 0x20910339),
    (0, 2, 0x20910339),
    (0, 4, 0x20910339),
    (0, 1, 0x2091001a),
    (0, 2, 0x2091001a),
    (0, 4, 0x2091001a),
    (0, 1, 0x2091001e),
    (0, 2, 0x2091001e),
    (0, 4, 0x2091001e),
    (0, 1, 0x2091001b),
    (0, 2, 0x2091001b),
    (0, 4, 0x2091001b),
    (0, 1, 0x2091001c),
    (0, 2, 0x2091001c),
    (0, 4, 0x2091001c),
    (0, 1, 0x2091001d),
    (0, 2, 0x2091001d),
    (0, 4, 0x2091001d),
    (0, 1, 0x20910088),
    (0, 2, 0x20910088),
    (0, 4, 0x20910088),
    (0, 1, 0x2091008c),
    (0, 2, 0x2091008c),
    (0, 4, 0x2091008c),
    (0, 1, 0x20910089),
    (0, 2, 0x20910089),
    (0, 4, 0x20910089),
    (0, 1, 0x2091008a),
    (0, 2, 0x2091008a),
    (0, 4, 0x2091008a),
    (0, 1, 0x2091008b),
    (0, 2, 0x2091008b),
    (0, 4, 0x2091008b),
    (0, 1, 0x20910051),
    (0, 2, 0x20910051),
    (0, 4, 0x20910051),
    (0, 1, 0x20910055),
    (0, 2, 0x20910055),
    (0, 4, 0x20910055),
    (0, 1, 0x20910052),
    (0, 2, 0x20910052),
    (0, 4, 0x20910052),
    (0, 1, 0x20910053),
    (0, 2, 0x20910053),
    (0, 4, 0x20910053),
    (0, 1, 0x20910054),
    (0, 2, 0x20910054),
    (0, 4, 0x20910054),
    (0, 1, 0x20910056),
    (0, 2, 0x20910056),
    (0, 4, 0x20910056),
    (0, 1, 0x2091005a),
    (0, 2, 0x2091005a),
    (0, 4, 0x2091005a),
    (0, 1, 0x20910057),
    (0, 2, 0x20910057),
    (0, 4, 0x20910057),
    (0, 1, 0x20910058),
    (0, 2, 0x20910058),
    (0, 4, 0x20910058),
    (0, 1, 0x20910059),
    (0, 2, 0x20910059),
    (0, 4, 0x20910059),
    (0, 1, 0x2091004c),
    (0, 2, 0x2091004c),
    (0, 4, 0x2091004c),
    (0, 1, 0x20910050),
    (0, 2, 0x20910050),
    (0, 4, 0x20910050),
    (0, 1, 0x2091004d),
    (0, 2, 0x2091004d),
    (0, 4, 0x2091004d),
    (0, 1, 0x2091004e),
    (0, 2, 0x2091004e),
    (0, 4, 0x2091004e),
    (0, 1, 0x2091004f),
    (0, 2, 0x2091004f),
    (0, 4, 0x2091004f),
    (0, 1, 0x20910047),
    (0, 2, 0x20910047),
    (0, 4, 0x20910047),
    (0, 1, 0x2091004b),
    (0, 2, 0x2091004b),
    (0, 4, 0x2091004b),
    (0, 1, 0x20910048),
    (0, 2, 0x20910048),
    (0, 4, 0x20910048),
    (0, 1, 0x20910049),
    (0, 2, 0x20910049),
    (0, 4, 0x20910049),
    (0, 1, 0x2091004a),
    (0, 2, 0x2091004a),
    (0, 4, 0x2091004a),
    (0, 1, 0x20910060),
    (0, 2, 0x20910060),
    (0, 4, 0x20910060),
    (0, 1, 0x20910064),
    (0, 2, 0x20910064),
    (0, 4, 0x20910064),
    (0, 1, 0x20910061),
    (0, 2, 0x20910061),
    (0, 4, 0x20910061),
    (0, 1, 0x20910062),
    (0, 2, 0x20910062),
    (0, 4, 0x20910062),
    (0, 1, 0x20910063),
    (0, 2, 0x20910063),
    (0, 4, 0x20910063),
    (0, 1, 0x20910386),
    (0, 2, 0x20910386),
    (0, 4, 0x20910386),
    (0, 1, 0x2091038a),
    (0, 2, 0x2091038a),
    (0, 4, 0x2091038a),
    (0, 1, 0x20910387),
    (0, 2, 0x20910387),
    (0, 4, 0x20910387),
    (0, 1, 0x20910388),
    (0, 2, 0x20910388),
    (0, 4, 0x20910388),
    (0, 1, 0x20910389),
    (0, 2, 0x20910389),
    (0, 4, 0x20910389),
    (0, 1, 0x2091005b),
    (0, 2, 0x2091005b),
    (0, 4, 0x2091005b),
    (0, 1, 0x2091005f),
    (0, 2, 0x2091005f),
    (0, 4, 0x2091005f),
    (0, 1, 0x2091005c),
    (0, 2, 0x2091005c),
    (0, 4, 0x2091005c),
    (0, 1, 0x2091005d),
    (0, 2, 0x2091005d),
    (0, 4, 0x2091005d),
    (0, 1, 0x2091005e),
    (0, 2, 0x2091005e),
    (0, 4, 0x2091005e),
    (0, 1, 0x2091003d),
    (0, 2, 0x2091003d),
    (0, 4, 0x2091003d),
    (0, 1, 0x20910041),
    (0, 2, 0x20910041),
    (0, 4, 0x20910041),
    (0, 1, 0x2091003e),
    (0, 2, 0x2091003e),
    (0, 4, 0x2091003e),
    (0, 1, 0x2091003f),
    (0, 2, 0x2091003f),
    (0, 4, 0x2091003f),
    (0, 1, 0x20910040),
    (0, 2, 0x20910040),
    (0, 4, 0x20910040),
    (0, 1, 0x20910042),
    (0, 2, 0x20910042),
    (0, 4, 0x20910042),
    (0, 1, 0x20910046),
    (0, 2, 0x20910046),
    (0, 4, 0x20910046),
    (0, 1, 0x20910043),
    (0, 2, 0x20910043),
    (0, 4, 0x20910043),
    (0, 1, 0x20910044),
    (0, 2, 0x20910044),
    (0, 4, 0x20910044),
    (0, 1, 0x20910045),
    (0, 2, 0x20910045),
    (0, 4, 0x20910045),
    (0, 1, 0x20910204),
    (0, 2, 0x20910204),
    (0, 4, 0x20910204),
    (0, 1, 0x20910208),
    (0, 2, 0x20910208),
    (0, 4, 0x20910208),
    (0, 1, 0x20910205),
    (0, 2, 0x20910205),
    (0, 4, 0x20910205),
    (0, 1, 0x20910206),
    (0, 2, 0x20910206),
    (0, 4, 0x20910206),
    (0, 1, 0x20910207),
    (0, 2, 0x20910207),
    (0, 4, 0x20910207),
    (0, 1, 0x209102a4),
    (0, 2, 0x209102a4),
    (0, 4, 0x209102a4),
    (0, 1, 0x209102a8),
    (0, 2, 0x209102a8),
    (0, 4, 0x209102a8),
    (0, 1, 0x209102a5),
    (0, 2, 0x209102a5),
    (0, 4, 0x209102a5),
    (0, 1, 0x209102a6),
    (0, 2, 0x209102a6),
    (0, 4, 0x209102a6),
    (1, 1, 0x209102a7),
    (1, 2, 0x209102a7),
    (1, 4, 0x209102a7),
    (0, 1, 0x2091025e),
    (0, 2, 0x2091025e),
    (0, 4, 0x2091025e),
    (0, 1, 0x20910262),
    (0, 2, 0x20910262),
    (0, 4, 0x20910262),
    (0, 1, 0x2091025f),
    (0, 2, 0x2091025f),
    (0, 4, 0x2091025f),
    (0, 1, 0x20910260),
    (0, 2, 0x20910260),
    (0, 4, 0x20910260),
    (0, 1, 0x20910261),
    (0, 2, 0x20910261),
    (0, 4, 0x20910261),
    (0, 1, 0x20910268),
    (0, 2, 0x20910268),
    (0, 4, 0x20910268),
    (0, 1, 0x2091026c),
    (0, 2, 0x2091026c),
    (0, 4, 0x2091026c),
    (0, 1, 0x20910269),
    (0, 2, 0x20910269),
    (0, 4, 0x20910269),
    (0, 1, 0x2091026a),
    (0, 2, 0x2091026a),
    (0, 4, 0x2091026a),
    (0, 1, 0x2091026b),
    (0, 2, 0x2091026b),
    (0, 4, 0x2091026b),
    (0, 1, 0x20910231),
    (0, 2, 0x20910231),
    (0, 4, 0x20910231),
    (0, 1, 0x20910235),
    (0, 2, 0x20910235),
    (0, 4, 0x20910235),
    (0, 1, 0x20910232),
    (0, 2, 0x20910232),
    (0, 4, 0x20910232),
    (0, 1, 0x20910233),
    (0, 2, 0x20910233),
    (0, 4, 0x20910233),
    (1, 1, 0x20910234),
    (1, 2, 0x20910234),
    (1, 4, 0x20910234),
    (0, 1, 0x20910178),
    (0, 2, 0x20910178),
    (0, 4, 0x20910178),
    (0, 1, 0x2091017c),
    (0, 2, 0x2091017c),
    (0, 4, 0x2091017c),
    (0, 1, 0x20910179),
    (0, 2, 0x20910179),
    (0, 4, 0x20910179),
    (0, 1, 0x2091017a),
    (0, 2, 0x2091017a),
    (0, 4, 0x2091017a),
    (0, 1, 0x2091017b),
    (0, 2, 0x2091017b),
    (0, 4, 0x2091017b),
    (0, 1, 0x2091017d),
    (0, 2, 0x2091017d),
    (0, 4, 0x2091017d),
    (0, 1, 0x20910181),
    (0, 2, 0x20910181),
    (0, 4, 0x20910181),
    (0, 1, 0x2091017e),
    (0, 2, 0x2091017e),
    (0, 4, 0x2091017e),
    (0, 1, 0x2091017f),
    (0, 2, 0x2091017f),
    (0, 4, 0x2091017f),
    (0, 1, 0x20910180),
    (0, 2, 0x20910180),
    (0, 4, 0x20910180),
    (0, 1, 0x20910092),
    (0, 2, 0x20910092),
    (0, 4, 0x20910092),
    (0, 1, 0x20910096),
    (0, 2, 0x20910096),
    (0, 4, 0x20910096),
    (0, 1, 0x20910093),
    (0, 2, 0x20910093),
    (0, 4, 0x20910093),
    (0, 1, 0x20910094),
    (0, 2, 0x20910094),
    (0, 4, 0x20910094),
    (0, 1, 0x20910095),
    (0, 2, 0x20910095),
    (0, 4, 0x20910095),
    (1, 1, 0x20910009),
    (1, 2, 0x20910009),
    (1, 4, 0x20910009),
    
    (130000, 1, 0x40050004),  # Setting time pulse length to 130000 microseconds (130ms)
    (130000, 2, 0x40050004),  # Setting time pulse length to 130000 microseconds (130ms)
    (130000, 4, 0x40050004),  # Setting time pulse length to 130000 microseconds (130ms)

    (1, 1, 0x20910006),  # write 1 to USB port PVT key (layer 1 = RAM)
    (1, 1, 0x20910010),
    (1, 1, 0x20910035),
    (1, 1, 0x2091034F),                
    (1, 2, 0x20910006),  # write 1 to USB port PVT key (layer 1 = RAM)
    (1, 2, 0x20910010),
    (1, 2, 0x20910035),
    (1, 2, 0x2091034F),
    (1, 4, 0x20910006),  # write 1 to USB port PVT key (layer 1 = RAM)
    (1, 4, 0x20910010),
    (1, 4, 0x20910035),
    (1, 4, 0x2091034F),
    ]
    
    print("Opening Serial Port...")
    with serial.Serial(serial_port, 1, timeout=1) as ser:
        print("Sending factory reset command CFG-CFG...")
        msg = UBXMessage(
            "CFG",
            "CFG-CFG",
            SET,
            clearMask=b"\x1f\x1f\x00\x00",  # clear everything
            loadMask=b"\x1f\x1f\x00\x00",  # reload everything
            devBBR=1,  # clear from battery-backed RAM
            devFlash=1,  # clear from flash memory
            devEEPROM=1,  # clear from EEPROM memory
        )
        ser.write(msg.serialize())
        time.sleep(3)
        ser.flush()
        print("Sending GNSS configuration...")
        for i, (value, layer, key) in enumerate(config_data):
            msg = UBXMessage.config_set(layer, 0, [(key, value)])
            ser.write(msg.serialize())
            time.sleep(0.1)
           
            ser.flush()
            print(f"Configuration send {i+1}/{len(config_data)}")

        print("GNSS Configuration Done !")
        
    
    
        print("Sending Cold reset command CFG-RST...")
        msg = UBXMessage(
            "CFG",
            "CFG-RST",
            SET,
            payload=b"\xff\xff\x00\x00",
        )
        ser.write(msg.serialize())
        print("Closing Serial port...")
        time.sleep(1)  
        ser.close()
        time.sleep(3)
    
    print("NMEA validation on port ttyAMA0 at 38400 bps...")
    with serial.Serial("/dev/ttyAMA0", 38400, timeout=1) as ser_nmea:
        start_time = time.time()
        while time.time() - start_time < 1:  
            message1 = ser_nmea.read(100)  
        print(f"NMEA Reçu: {message1}")  
        ser_nmea.close()

   
    print("u-blox data stream validation on port /dev/gnss at 460800 bps...")
    with serial.Serial("/dev/gnss", 460800, timeout=1) as ser_ubx:
        start_time = time.time()
        while time.time() - start_time < 1:  
            message2 = ser_ubx.read(100)
        print(f"UBX Reçu: {message2}")
        ser_ubx.close()

if __name__ == "__main__":
    serial_port = "/dev/gnss"  
    send_config(serial_port)
    print("GNSS Configuration Done !!!!")
